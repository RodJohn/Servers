
http://www.linuxidc.com/Linux/2015-01/111935.htm
http://www.jianshu.com/p/8e5b7aea52b5
http://blog.csdn.net/zyboy2000/article/details/53057330

SSH 为 Secure Shell 的缩写，
专为远程登录会话和其他网络服务提供安全性的协议。利用 SSH 协议可以有效防止远程管理过程中的信息泄露问题。
SSH客户端适用于多种平台。几乎所有UNIX平台—包括HP-UX、Linux、AIX、Solaris、Digital UNIX、Irix，以及其他平台，都可运行SSH。


传统的网络服务程序，如：ftp、pop和telnet在本质上都是不安全的，因为它们在网络上用明文传送口令和数据，别有用心的人非常容易就可以截获这些口令和数据。而且，这些服务程序的安全验证方式也是有其弱点的， 就是很容易受到“中间人”（man-in-the-middle）这种方式的攻击。所谓“中间人”的攻击方式， 就是“中间人”冒充真正的服务器接收你传给服务器的数据，然后再冒充你把数据传给真正的服务器。服务器和你之间的数据传送被“中间人”一转手做了手脚之后，就会出现很严重的问题。通过使用SSH，你可以把所有传输的数据进行加密，这样"中间人"这种攻击方式就不可能实现了，而且也能够防止DNS欺骗和IP欺骗。使用SSH，还有一个额外的好处就是传输的数据是经过压缩的，所以可以加快传输的速度。SSH有很多功能，它既可以代替Telnet，又可以为FTP、PoP、甚至为PPP提供一个安全的"通道"[1]  。


远程登录

Linux一般作为服务器使用，而服务器一般放在机房，你不可能在机房操作你的Linux服务器。
这时我们就需要远程登录到Linux服务器来管理维护系统。
Linux系统中是通过ssh服务实现的远程登录功能，默认ssh服务端口号为 22。

登陆时使用用户名密码进行登陆显然不能满足高级别的保密需求。使用密钥进行登陆不仅使远程连接更加安全而且当在两机之间建立了密钥登陆机制后就不再需要使用密码登录而更加便捷。这种验证方式是基于非对称加密实现的

账号密码


秘钥认证原理

所谓的密钥认证，实际上是使用一对加密字符串，一个称为公钥(public key)， 任何人都可以看到其内容，用于加密；另一个称为密钥(private key)，只有拥有者才能看到，用于解密。 通过公钥加密过的密文使用密钥可以轻松解密，但根据公钥来猜测密钥却十分困难。

ssh 的密钥认证就是使用了这一特性。服务器和客户端都各自拥有自己的公钥和密钥。 为了说明方便，以下将使用这些符号。
Ac 客户端公钥
Bc 客户端密钥
As 服务器公钥
Bs 服务器密钥

在认证之前，客户端需要通过某种方法将公钥 Ac 登录到服务器上。

认证过程分为两个步骤。

1. 会话密 钥(session key)生成
1. 客户端 请求连接服务器，服务器将 As 发送给客户端。
2. 服务器生成会话ID(session id)，设为 p，发送给客户端。
3. 客户端生成会话密钥(session key)，设为 q，并计算 r = p xor q。
4. 客户端将 r 用 As 进行加密，结果发送给服务器。
5. 服务器用 Bs 进行解密，获得 r。
6. 服务器进行 r xor p 的运算，获得 q。
7. 至此服务器和客户端都知道了会话密钥q，以后的传输都将被 q 加密。
2. 认证
1. 服务器 生成随机数 x，并用 Ac 加密后生成结果 S(x)，发送给客户端
2. 客户端使用 Bc 解密 S(x) 得到 x
3. 客户端计算 q + x 的 md5 值 n(q+x)，q为上一步得到的会话密钥
4. 服务器计算 q + x 的 md5 值 m(q+x)
5. 客户端将 n(q+x) 发送给服务器
6. 服务器比较 m(q+x) 和 n(q+x)，两者相同则认证成功


认证方式

认证方式包括基于口令和基于秘钥

第一种级别(基于口令的安全验证) 
    只要知道自己帐号和口令，就可以登录到远程主机。所有传输的数据都会被加密，但是不能保证正在连接的服务器就是想连接的服务器。可能会有别的服务器在冒充真正的服务器，也就是受到“中间人”这种方式的攻击。 
第二种级别(基于密匙的安全验证)需要依靠密匙 
    采用数字签名的方法来认证客户端。目前，设备上可以利用RSA和 DSA两种公共密钥算法实现数字签名。

1. 用户名密码验证方式

说明：
　　（1） 当客户端发起ssh请求，服务器会把自己的公钥发送给用户；
　　（2） 用户会根据服务器发来的公钥对密码进行加密；
　　（3） 加密后的信息回传给服务器，服务器用自己的私钥解密，如果密码正确，则用户登录成功。
 

2. 基于密钥的登录方式

 
说明：
　　（1） 首先在客户端生成一对密钥（ssh-keygen）；
　　（2） 并将客户端的公钥ssh-copy-id 拷贝到服务端；
　　（3） 当客户端再次发送一个连接请求，包括ip、用户名；
　　（4） 服务端得到客户端的请求后，会到authorized_keys中查找，如果有响应的IP和用户，就会随机生成一个字符串，例如：qwer；
　　（5） 服务端将使用客户端拷贝过来的公钥进行加密，然后发送给客户端；
　　（6） 得到服务端发来的消息后，客户端会使用私钥进行解密，然后将解密后的字符串发送给服务端；
　　（7） 服务端接受到客户端发来的字符串后，跟之前的字符串进行对比，如果一致，就允许免密码登录。




工具

xshell
收费
方便







