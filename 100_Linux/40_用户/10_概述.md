
用户登录
输入账号与密码之后， Linux 会：  

1. 先找寻 /etc/passwd 里面是否有这个账号？如果没有则跳出，如果有的话则将该账号对应的 UID 
( User ID )与 GID ( Group ID )读出来，另外，该账号的家目录与 shell 设定也一并读出；  
2. 再来则是核对密码表啦！这时 Linux 会进入 /etc/shadow 里面找出对应的账号与 UID，然后核
对一下你刚刚输入的密码与里头的密码是否相符？  
3. 如果一切都 OK 的话，就进入 Shell 控管的阶段啰！ 



/etc/passwd 

这个是Linux用户文件,每一行都代表一个账号,
不过需要特别留意的是， 里头很多账号本来就是系统中必须要的， 例如 bin, daemon, adm等等，这些账号是系统正常运作时所需要的


例如		root:x:0:0:root:/root:/bin/bash 
每一行使用『:』分隔开，共有七个


1. 账号名称：对应 UID 用的！ 
2. 密码：早期的 Unix 系统的密码是放在这个档案中的， 但是因为这个档案的特性是所有的程序都
能够读取，所以，这样一来很容易造成数据的被窃取， 因此后来就将这个字段的密码数据给他改
放到 /etc/shadow 中了，关于 /etc/shadow 这一部份等一下再说。而这里你会看到一个 x ，呵
呵！别担心，这表示密码已经被移动到 shadow 这个加密过后的档案啰； 
3. UID：这个就是使用者识别码 (ID) 啰！
当 UID 是 0 时，代表这个账号是『系统管理员』！所以当你要作另一个系统管理员账号时， 你可以将该账号的 UID 改成 0 即可；
1~99 会保留给系统预设的账号，另外 100~499 则保留给一些服务来使用。
预设 500 以下给系统作为保留账号只是一个
习惯。这样的好处是，以有名的 DNS 服务器的启动服务『 named 』为例，这个
程序的预设所有人 named 的账号 UID 是 25 ，当有其它的账号同样是 25 时，
很可能会造成系统的一些小问题！为了杜绝这样的问题，建议保留 500 以前的 
UID 给系统吧！ 
不过，一般来说， 
给一般使用者用的。事实上，目前的 linux 核心 (2.6.x 版)已经可以支持到 
4294967295 (2^32-1) 这么大的 UID 号码喔！


5. GID：这个与 /etc/group 有关！其实 /etc/group 的观念与 /etc/passwd 差不多，只是他是用
来规范 group 的而已！ 
6. 使用者信息说明栏：这个字段基本上并没有什么重要用途， 只是用来解释这个账号的意义而已！
不过，如果您提供使用 finger 的功能时， 这个字段可以提供很多的讯息呢！底下的 chfn 可以
解释一下啰！ 
7. 家目录：这是使用者的家目录，以上面为例， root 的家目录在 /root ，所以当 root 登入之后，
就会立刻跑到 /root 里头啦！呵呵！ 如果你有个账号的使用空间特别的大，你想要将该账号的
家目录移动到其它的硬盘去， 没有错！可以在这里进行修改呦！预设的使用者家目录在 
/home/yourIDname 
8. Shell：所谓的 shell 是用来沟通人类下达的指令与硬件之间真正动作的界面！我们通常使用 
/bin/bash 这个 shell 来进行指令的下达！嘿嘿！发现了吧？我们在 bash 章节里面提到很多次，
登入 Linux 时为何预设是 bash 呢？就是这里设定的啦～ 这里比较需要注意的是，有一个 
shell 可以用来替代成让账号无法登入的指令！那就是 /sbin/nologin 这个东西！这也可以用来
制作纯 pop 邮件账号者的数据呢！   


# 用户
修改用户密码方法详解

http://blog.csdn.net/qq_21792169/article/details/50135089