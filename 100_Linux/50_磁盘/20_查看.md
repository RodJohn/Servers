
df
du
磁盘检验
磁盘挂载与卸除


df
查看已挂载磁盘的总容量、使用容量、剩余容量等，可以不加任何参数，默认是按k为单位显示的

df常用参数有 –i -h -k –m等
-i 使用inodes 显示结果

-h 使用合适的单位显示，例如G

-k -m 分别为使用K，M为单位显示

简单介绍一下，你看到的相关数据。Filesystem 表示扇区，也就是你划分磁盘时所分的区；1K-blocks/1M-blocks表示以1K/1M为单位；Used 和 Available 分别是已使用和剩余；Use% 就是已经使用的百分比，如果这个值大于90% 那么你就应该注意了，磁盘很有可能马上就会变满的；Mounted on 则表示该分区（扇区）所挂载的地方。

常用
df -h

du
用来查看某个目录所占空间大小

语法：du [-abckmsh] [文件或者目录名] 常用的参数有：
-a：全部文件与目录大小都列出来。如果不加任何选项和参数只列出目录（包含子目录）大小。

-b：列出的值以bytes为单位输出，默认是以Kbytes

-c：最后加总

-k：以KB为单位输出
-m：以MB为单位输出
-s：只列出总和
-h：系统自动调节单位，例如文件太小可能就几K，那么就以K为单位显示，如果大到几G，则就以G为单位显示。笔者习惯用 du –sh filename 这样的形式。

常用
du -sh  /usr/
du -ach /root/


磁盘检验
fsck（file system check）用来检查和维护不一致的文件系统。
若系统掉电或磁盘发生问题，可利用fsck命令对文件系统进行检查。
语法：
fsck [-t 文件系统] [-ACay] 装置名称
选项与参数：
-t : 给定档案系统的型式，若在 /etc/fstab 中已有定义或 kernel 本身已支援的则不需加上此参数
-s : 依序一个一个地执行 fsck 的指令来检查
-A : 对/etc/fstab 中所有列出来的 分区（partition）做检查
-C : 显示完整的检查进度
-d : 打印出 e2fsck 的 debug 结果
-p : 同时有 -A 条件时，同时有多个 fsck 的检查一起执行
-R : 同时有 -A 条件时，省略 / 不检查
-V : 详细显示模式
-a : 如果检查有错则自动修复
-r : 如果检查有错则由使用者回答是否修复
-y : 选项指定检测每个文件是自动输入yes，在不确定那些是不正常的时候，可以执行 # fsck -y 全部检查修复。




