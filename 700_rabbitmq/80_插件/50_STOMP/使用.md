

stomp 插件
http://www.rabbitmq.com/stomp.html

web_stomp

sockjs 



# 服务器设置

## 防火墙


## 启用插件

  rabbitmq_web_stomp插件随RabbitMQ提供。
  
  要启用该插件，请运行  rabbitmq-plugins enable rabbitmq_web_stomp

## 设置参数

修改端口号


# javascript代码

支持高层的STOMP,而不是websocket

## sockjs


## 

老版本叶不稳定
3.7以后不再支持sockjs


http://www.rabbitmq.com/changelog.html


但是



## 库包

STOMP.js

## API示例

```
// 连接STOM端点
// 订阅管道
var client = Stomp.client('ws://127.0.0.1:15674/ws');

var on_connect = function(x) {
    var channel = "/topic/test";
    id = client.subscribe(channel, function(d) {
        console.log("from--"+channel+d.body);
    });
    
};
var on_error =  function() {
    console.log('error');
};

client.connect('guest', 'guest', on_connect, on_error, '/');

//向指定管道发送数据
client.send(channel, {"content-type":"text/plain"}, " my data ");
```

# 参考

官方资料\
http://www.rabbitmq.com/web-stomp.html\
https://github.com/rabbitmq/rabbitmq-web-stomp-examples